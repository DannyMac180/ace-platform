{"id":"ace-platform-1","title":"Set up project with bd","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-09T14:22:17.340095-05:00","updated_at":"2025-12-09T15:06:53.373222-05:00","closed_at":"2025-12-09T15:06:53.373222-05:00"}
{"id":"ace-platform-10","title":"Add token counting to Evolution Service","description":"Add token counting for each LLM call in EvolutionService using tiktoken. Return token usage alongside evolved playbook.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-09T14:51:22.829685-05:00","updated_at":"2025-12-24T10:14:41.34578-05:00","closed_at":"2025-12-24T10:14:41.34578-05:00","labels":["core","evolution","metering"]}
{"id":"ace-platform-11","title":"Write unit tests for Evolution Service","description":"Write unit tests for the Evolution Service wrapper in tests/test_evolution/","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-09T14:51:22.86169-05:00","updated_at":"2025-12-24T10:14:49.096581-05:00","closed_at":"2025-12-24T10:14:49.096581-05:00","labels":["evolution","testing"]}
{"id":"ace-platform-12","title":"Document token economics analysis","description":"Run sample ACE evolution loop with token counting, document tokens per agent call, calculate cost per evolution, create pricing recommendations","status":"open","priority":3,"issue_type":"task","created_at":"2025-12-09T14:51:22.886408-05:00","updated_at":"2025-12-09T14:51:22.886408-05:00","labels":["documentation","pricing"]}
{"id":"ace-platform-13","title":"Set up MCP server core","description":"Install and configure mcp package, create MCP server entry point in platform/mcp/server.py with proper configuration (host, port, transport)","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-09T14:58:33.679094-05:00","updated_at":"2025-12-23T07:54:50.105172-05:00","closed_at":"2025-12-23T07:54:50.105172-05:00","labels":["mcp","server"]}
{"id":"ace-platform-14","title":"Implement MCP authentication middleware","description":"Implement MCP authentication middleware for API keys:\n\n1. Look up hashed key in database (bcrypt comparison)\n2. Validate key is not revoked (revoked_at is null)\n3. Check scopes for requested operation (read, write, evolve)\n4. Update last_used_at timestamp on successful auth\n5. Return 401/403 with clear error messages\n\nAPI keys are generated via /auth/api-keys endpoints.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-09T14:58:33.705554-05:00","updated_at":"2025-12-23T09:17:12.373323-05:00","closed_at":"2025-12-23T09:17:12.373323-05:00","labels":["auth","mcp"]}
{"id":"ace-platform-15","title":"Implement get_playbook MCP tool","description":"Implement get_playbook MCP tool:\n\nParameters:\n- playbook_id: str (required)\n- section: str (optional) - filter to specific section\n- version: int (optional) - get specific version (default: current)\n\nReturns: Playbook content as structured text\n\nMust enforce playbook ownership - only return playbooks owned by authenticated user or public starters.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-09T14:58:33.73032-05:00","updated_at":"2025-12-23T14:17:13.102665-05:00","closed_at":"2025-12-23T14:17:13.102665-05:00","labels":["mcp","tools"],"dependencies":[{"issue_id":"ace-platform-15","depends_on_id":"ace-platform-2","type":"blocks","created_at":"2025-12-09T15:06:53.489726-05:00","created_by":"daemon"}]}
{"id":"ace-platform-16","title":"Implement report_outcome MCP tool","description":"Implement report_outcome MCP tool:\n\nParameters:\n- playbook_id: str (required)\n- task_description: str (required)\n- outcome: success|failure|partial (required)\n- reasoning_trace: str (optional, max 10KB)\n- notes: str (optional, max 2KB)\n\nReturns: { outcome_id, status: recorded, pending_outcomes }\n\nEnforce input size limits and playbook ownership.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-09T14:58:33.753531-05:00","updated_at":"2025-12-23T14:41:09.696182-05:00","closed_at":"2025-12-23T14:41:09.696182-05:00","labels":["mcp","tools"],"dependencies":[{"issue_id":"ace-platform-16","depends_on_id":"ace-platform-2","type":"blocks","created_at":"2025-12-09T15:06:53.512154-05:00","created_by":"daemon"}]}
{"id":"ace-platform-17","title":"Implement list_playbooks MCP tool","description":"Implement list_playbooks MCP tool:\n\nParameters:\n- include_starters: bool (optional, default: true)\n\nReturns: Array of { id, name, description, last_updated, bullet_count, outcome_count }\n\nFilter to playbooks owned by authenticated user plus optional starter playbooks.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-09T14:58:33.778741-05:00","updated_at":"2025-12-23T14:41:09.723448-05:00","closed_at":"2025-12-23T14:41:09.723448-05:00","labels":["mcp","tools"],"dependencies":[{"issue_id":"ace-platform-17","depends_on_id":"ace-platform-2","type":"blocks","created_at":"2025-12-09T15:06:53.536115-05:00","created_by":"daemon"}]}
{"id":"ace-platform-18","title":"Implement trigger_evolution MCP tool","description":"Implement trigger_evolution MCP tool:\n\nParameters: playbook_id (required)\nReturns: job_id, status, is_new\n\nIMPORTANT: Must be idempotent - if a queued/running job exists, return that job instead of creating a new one. This prevents race conditions and duplicate evolution jobs.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-09T14:58:33.80083-05:00","updated_at":"2025-12-23T21:05:20.31728-05:00","closed_at":"2025-12-23T21:05:20.31728-05:00","labels":["mcp","tools"],"dependencies":[{"issue_id":"ace-platform-18","depends_on_id":"ace-platform-31","type":"blocks","created_at":"2025-12-09T15:06:53.559238-05:00","created_by":"daemon"}]}
{"id":"ace-platform-19","title":"Add MCP tools input validation and error handling","description":"Add comprehensive input validation and meaningful error messages for all MCP tools","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-09T14:58:37.015064-05:00","updated_at":"2025-12-24T10:15:23.769138-05:00","closed_at":"2025-12-24T10:15:23.769138-05:00","labels":["mcp","validation"]}
{"id":"ace-platform-2","title":"Create SQLAlchemy database models","description":"Create SQLAlchemy models for all entities:\n\nCore entities:\n- User (with is_active, email_verified, updated_at)\n- Playbook (with current_version_id, status enum, source enum)\n- PlaybookVersion (NEW - for version history)\n- Outcome (with processed_at, evolution_job_id, reflection_data)\n- EvolutionJob (with from/to version_id, token_totals, ace_core_version)\n- UsageRecord (with model, split tokens, Decimal cost_usd, request_id, metadata)\n- ApiKey (NEW - for MCP auth)\n\nSee docs/IMPLEMENTATION_PLAN.md for full schema details.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-09T14:51:14.721133-05:00","updated_at":"2025-12-21T17:19:29.938187-05:00","closed_at":"2025-12-21T17:19:29.938187-05:00","labels":["database","foundation"]}
{"id":"ace-platform-20","title":"Create Metered LLM Client","description":"Create MeteredLLMClient in platform/core/llm_proxy.py that wraps OpenAI client, counts tokens for each request/response, logs usage to UsageRecord table","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-09T14:58:37.044353-05:00","updated_at":"2025-12-23T14:44:40.723563-05:00","closed_at":"2025-12-23T14:44:40.723563-05:00","labels":["core","metering"]}
{"id":"ace-platform-21","title":"MCP integration testing","description":"Test MCP server connection with mcp CLI tools, test with Claude Code as MCP client","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-09T14:58:37.068894-05:00","updated_at":"2025-12-27T07:46:48.207775-05:00","closed_at":"2025-12-27T07:46:48.207775-05:00","labels":["mcp","testing"]}
{"id":"ace-platform-22","title":"Document MCP integration steps","description":"Document MCP integration steps and create example agent configuration","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-09T14:58:37.099207-05:00","updated_at":"2025-12-26T21:09:55.990656-05:00","closed_at":"2025-12-26T21:09:55.990656-05:00","labels":["documentation","mcp"]}
{"id":"ace-platform-23","title":"Set up FastAPI application","description":"Set up FastAPI application in platform/api/main.py with CORS, logging middleware, error handling, and health check endpoint. Create dependency injection in platform/api/deps.py","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-09T14:59:18.75804-05:00","updated_at":"2025-12-23T20:49:30.531949-05:00","closed_at":"2025-12-23T20:49:30.531949-05:00","labels":["api","foundation"]}
{"id":"ace-platform-24","title":"Implement JWT authentication","description":"Implement JWT-based authentication in platform/api/routes/auth.py with password hashing (bcrypt). Create auth dependency for protected routes.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-09T14:59:18.785428-05:00","updated_at":"2025-12-23T20:49:50.252661-05:00","closed_at":"2025-12-23T20:49:50.252661-05:00","labels":["api","auth"],"dependencies":[{"issue_id":"ace-platform-24","depends_on_id":"ace-platform-23","type":"blocks","created_at":"2025-12-09T15:07:15.669984-05:00","created_by":"daemon"}]}
{"id":"ace-platform-25","title":"Implement auth register endpoint","description":"Create POST /auth/register endpoint for user registration","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-09T14:59:18.808655-05:00","updated_at":"2025-12-23T20:49:50.278985-05:00","closed_at":"2025-12-23T20:49:50.278985-05:00","labels":["api","auth"],"dependencies":[{"issue_id":"ace-platform-25","depends_on_id":"ace-platform-24","type":"blocks","created_at":"2025-12-09T15:07:15.695027-05:00","created_by":"daemon"}]}
{"id":"ace-platform-26","title":"Implement auth login endpoint","description":"Create POST /auth/login endpoint that returns JWT token","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-09T14:59:18.830153-05:00","updated_at":"2025-12-23T20:49:50.302736-05:00","closed_at":"2025-12-23T20:49:50.302736-05:00","labels":["api","auth"],"dependencies":[{"issue_id":"ace-platform-26","depends_on_id":"ace-platform-24","type":"blocks","created_at":"2025-12-09T15:07:15.719625-05:00","created_by":"daemon"}]}
{"id":"ace-platform-27","title":"Implement auth me endpoint","description":"Create GET /auth/me endpoint to get current user info","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-09T14:59:18.853295-05:00","updated_at":"2025-12-23T20:49:50.327145-05:00","closed_at":"2025-12-23T20:49:50.327145-05:00","labels":["api","auth"],"dependencies":[{"issue_id":"ace-platform-27","depends_on_id":"ace-platform-24","type":"blocks","created_at":"2025-12-09T15:07:15.743228-05:00","created_by":"daemon"}]}
{"id":"ace-platform-28","title":"Implement playbook CRUD endpoints","description":"Implement GET/POST /playbooks, GET/PUT/DELETE /playbooks/{id} in platform/api/routes/playbooks.py with pagination","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-09T14:59:18.877577-05:00","updated_at":"2025-12-23T20:53:27.472127-05:00","closed_at":"2025-12-23T20:53:27.472127-05:00","labels":["api","playbooks"],"dependencies":[{"issue_id":"ace-platform-28","depends_on_id":"ace-platform-23","type":"blocks","created_at":"2025-12-09T15:07:15.765605-05:00","created_by":"daemon"},{"issue_id":"ace-platform-28","depends_on_id":"ace-platform-2","type":"blocks","created_at":"2025-12-09T15:07:15.795143-05:00","created_by":"daemon"}]}
{"id":"ace-platform-29","title":"Implement playbook outcomes endpoint","description":"Implement GET /playbooks/{id}/outcomes to list outcomes for a playbook","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-09T14:59:18.899036-05:00","updated_at":"2025-12-24T07:36:50.180299-05:00","closed_at":"2025-12-24T07:36:50.180299-05:00","labels":["api","playbooks"]}
{"id":"ace-platform-3","title":"Create database connection utilities","description":"Create database connection utilities in ace_platform/db/session.py:\n\n1. Async engine + AsyncSession factory for API/MCP (using asyncpg)\n2. Sync engine + Session factory for workers (using psycopg2-binary)\n3. Shared model metadata that works with both session types\n4. Connection pool configuration for each use case\n5. Context managers for session lifecycle","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-09T14:51:14.747084-05:00","updated_at":"2025-12-21T17:19:30.667674-05:00","closed_at":"2025-12-21T17:19:30.667674-05:00","labels":["database","foundation"],"dependencies":[{"issue_id":"ace-platform-3","depends_on_id":"ace-platform-2","type":"blocks","created_at":"2025-12-09T15:06:53.398267-05:00","created_by":"daemon"}]}
{"id":"ace-platform-30","title":"Implement playbook evolutions endpoint","description":"Implement GET /playbooks/{id}/evolutions to list evolution history","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-09T14:59:18.922565-05:00","updated_at":"2025-12-24T10:00:29.096439-05:00","closed_at":"2025-12-24T10:00:29.096439-05:00","labels":["api","playbooks"]}
{"id":"ace-platform-31","title":"Set up Celery with Redis backend","description":"Set up Celery application in platform/workers/celery_app.py with Redis backend","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-09T14:59:35.803246-05:00","updated_at":"2025-12-23T21:00:40.13158-05:00","closed_at":"2025-12-23T21:00:40.13158-05:00","labels":["infrastructure","workers"]}
{"id":"ace-platform-32","title":"Create evolution worker task","description":"Create Celery evolution worker task with:\n\n1. Sync database session (not async)\n2. Row locking via SELECT ... FOR UPDATE on playbook\n3. Atomic transaction for:\n   - Create new PlaybookVersion\n   - Update Playbook.current_version_id\n   - Mark outcomes as processed with evolution_job_id\n   - Update EvolutionJob status\n4. Token usage logging to UsageRecord\n5. Retry with exponential backoff\n6. Idempotent behavior","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-09T14:59:35.831612-05:00","updated_at":"2025-12-24T07:33:12.396648-05:00","closed_at":"2025-12-24T07:33:12.396648-05:00","labels":["evolution","workers"],"dependencies":[{"issue_id":"ace-platform-32","depends_on_id":"ace-platform-31","type":"blocks","created_at":"2025-12-09T15:07:15.820826-05:00","created_by":"daemon"},{"issue_id":"ace-platform-32","depends_on_id":"ace-platform-9","type":"blocks","created_at":"2025-12-09T15:07:15.844772-05:00","created_by":"daemon"}]}
{"id":"ace-platform-33","title":"Implement automatic evolution triggering","description":"Implement automatic evolution triggering based on thresholds:\n\nRules:\n- Trigger after N unprocessed outcomes (default: 5)\n- OR after T hours since last evolution with at least 1 outcome (default: 24h)\n- Whichever condition is met first\n- Outcomes arriving during a running job wait for next run\n\nImplement as periodic Celery beat task.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-09T14:59:35.858294-05:00","updated_at":"2025-12-24T10:25:20.944418-05:00","closed_at":"2025-12-24T10:25:20.944418-05:00","labels":["evolution","workers"]}
{"id":"ace-platform-34","title":"Choose frontend approach","description":"Decide between Jinja2 templates or React SPA for the dashboard","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-09T15:01:58.75048-05:00","updated_at":"2025-12-21T14:31:15.030057-05:00","closed_at":"2025-12-21T14:31:15.030057-05:00","labels":["decision","frontend"]}
{"id":"ace-platform-35","title":"Implement login/register pages","description":"Implement login and register pages for the web dashboard","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-09T15:01:58.779984-05:00","updated_at":"2025-12-09T15:01:58.779984-05:00","labels":["auth","frontend"],"dependencies":[{"issue_id":"ace-platform-35","depends_on_id":"ace-platform-34","type":"blocks","created_at":"2025-12-09T15:07:15.868655-05:00","created_by":"daemon"}]}
{"id":"ace-platform-36","title":"Implement dashboard with playbook list","description":"Implement main dashboard showing list of user's playbooks and usage summary","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-09T15:01:58.815042-05:00","updated_at":"2025-12-09T15:01:58.815042-05:00","labels":["frontend","playbooks"],"dependencies":[{"issue_id":"ace-platform-36","depends_on_id":"ace-platform-34","type":"blocks","created_at":"2025-12-09T15:07:15.894755-05:00","created_by":"daemon"}]}
{"id":"ace-platform-37","title":"Implement playbook detail view","description":"Implement playbook detail page showing content, outcomes, and evolution history","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-09T15:01:58.839157-05:00","updated_at":"2025-12-09T15:01:58.839157-05:00","labels":["frontend","playbooks"],"dependencies":[{"issue_id":"ace-platform-37","depends_on_id":"ace-platform-34","type":"blocks","created_at":"2025-12-09T15:07:15.920091-05:00","created_by":"daemon"}]}
{"id":"ace-platform-38","title":"Implement usage statistics display","description":"Add basic usage statistics display to dashboard","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-09T15:01:58.863169-05:00","updated_at":"2025-12-09T15:01:58.863169-05:00","labels":["frontend","metering"]}
{"id":"ace-platform-39","title":"Create coding_agent starter playbook","description":"Create coding_agent.md starter playbook in playbooks/ directory","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-09T15:02:38.20511-05:00","updated_at":"2025-12-24T10:29:15.286657-05:00","closed_at":"2025-12-24T10:29:15.286657-05:00","labels":["content","playbooks"]}
{"id":"ace-platform-4","title":"Set up Alembic migrations","description":"Set up Alembic for database migrations in platform/db/migrations/","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-09T14:51:14.772224-05:00","updated_at":"2025-12-22T09:23:04.422568-05:00","closed_at":"2025-12-22T09:23:04.422568-05:00","labels":["database","foundation"]}
{"id":"ace-platform-40","title":"Implement starter playbook seeding","description":"Seed starter playbooks in database on startup, marked as system-owned (not editable)","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-09T15:02:38.231365-05:00","updated_at":"2025-12-24T11:50:43.571462-05:00","closed_at":"2025-12-24T11:50:43.571462-05:00","labels":["foundation","playbooks"]}
{"id":"ace-platform-41","title":"Set up Stripe products and prices","description":"Set up Stripe products and prices for subscription tiers","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-09T15:03:29.374646-05:00","updated_at":"2025-12-24T13:58:19.01144-05:00","closed_at":"2025-12-24T13:58:19.01144-05:00","labels":["billing","stripe"]}
{"id":"ace-platform-42","title":"Implement subscription creation flow","description":"Implement subscription creation flow in platform/core/billing.py","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-09T15:03:29.399039-05:00","updated_at":"2025-12-24T14:10:18.695832-05:00","closed_at":"2025-12-24T14:10:18.695832-05:00","labels":["billing","stripe"],"dependencies":[{"issue_id":"ace-platform-42","depends_on_id":"ace-platform-41","type":"blocks","created_at":"2025-12-09T15:07:30.123796-05:00","created_by":"daemon"}]}
{"id":"ace-platform-43","title":"Create Stripe webhook handler","description":"Create webhook handler for Stripe events (subscription created, updated, cancelled, payment failed)","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-09T15:03:29.423273-05:00","updated_at":"2025-12-24T14:22:46.80805-05:00","closed_at":"2025-12-24T14:22:46.80805-05:00","labels":["billing","stripe"],"dependencies":[{"issue_id":"ace-platform-43","depends_on_id":"ace-platform-41","type":"blocks","created_at":"2025-12-09T15:07:30.148245-05:00","created_by":"daemon"}]}
{"id":"ace-platform-44","title":"Implement usage-based billing","description":"DEFERRED TO POST-MVP: Usage-based billing adds complexity:\n- Reconcile model pricing changes\n- Handle retries and failed calls\n- Decide prompt+completion vs total billing\n- When to send usage to Stripe\n\nFor MVP: Use flat subscription + usage cap instead. Track usage for visibility but defer Stripe metered billing.","status":"open","priority":3,"issue_type":"task","created_at":"2025-12-09T15:03:29.446659-05:00","updated_at":"2025-12-21T14:31:00.373206-05:00","labels":["billing","metering"],"dependencies":[{"issue_id":"ace-platform-44","depends_on_id":"ace-platform-20","type":"blocks","created_at":"2025-12-09T15:07:30.171095-05:00","created_by":"daemon"}]}
{"id":"ace-platform-45","title":"Implement usage aggregation for billing","description":"Aggregate usage records for billing in platform/core/metering.py","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-09T15:04:16.769177-05:00","updated_at":"2025-12-24T12:18:03.358462-05:00","closed_at":"2025-12-24T12:18:03.358462-05:00","labels":["billing","metering"]}
{"id":"ace-platform-46","title":"Create usage reporting endpoint","description":"Create usage reporting endpoint for dashboard","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-09T15:04:16.798229-05:00","updated_at":"2025-12-24T12:46:48.274469-05:00","closed_at":"2025-12-24T12:46:48.274469-05:00","labels":["api","metering"]}
{"id":"ace-platform-47","title":"Implement usage limits","description":"Implement usage limits based on subscription tier","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-09T15:04:16.822925-05:00","updated_at":"2025-12-24T13:02:39.054252-05:00","closed_at":"2025-12-24T13:02:39.054252-05:00","labels":["billing","metering"]}
{"id":"ace-platform-48","title":"Implement billing API endpoints","description":"Implement GET /billing/subscription, POST /billing/subscribe, GET /billing/usage, POST /billing/webhook endpoints","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-09T15:04:16.849399-05:00","updated_at":"2025-12-24T13:34:18.322219-05:00","closed_at":"2025-12-24T13:34:18.322219-05:00","labels":["api","billing"],"dependencies":[{"issue_id":"ace-platform-48","depends_on_id":"ace-platform-23","type":"blocks","created_at":"2025-12-09T15:07:30.194268-05:00","created_by":"daemon"}]}
{"id":"ace-platform-49","title":"Add subscription checks to protected routes","description":"Add subscription status checks to protected routes","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-09T15:04:16.875651-05:00","updated_at":"2025-12-26T14:48:33.487956-05:00","closed_at":"2025-12-26T14:48:33.487956-05:00","labels":["api","billing"]}
{"id":"ace-platform-5","title":"Create initial database migration","description":"Write initial Alembic migration for all database tables with proper indexes for common queries","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-09T14:51:14.79769-05:00","updated_at":"2025-12-22T12:59:36.331788-05:00","closed_at":"2025-12-22T12:59:36.331788-05:00","labels":["database","foundation"],"dependencies":[{"issue_id":"ace-platform-5","depends_on_id":"ace-platform-4","type":"blocks","created_at":"2025-12-09T15:06:53.421589-05:00","created_by":"daemon"},{"issue_id":"ace-platform-5","depends_on_id":"ace-platform-2","type":"blocks","created_at":"2025-12-09T15:06:53.444617-05:00","created_by":"daemon"}]}
{"id":"ace-platform-50","title":"Create production Dockerfile","description":"Create production Dockerfile for the platform","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-09T15:05:40.26852-05:00","updated_at":"2025-12-26T07:09:43.476707-05:00","closed_at":"2025-12-26T07:09:43.476707-05:00","labels":["deployment","docker"]}
{"id":"ace-platform-51","title":"Set up docker-compose for local development","description":"Create docker-compose.yml for complete local development environment","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-09T15:05:40.294592-05:00","updated_at":"2025-12-26T14:27:30.78506-05:00","closed_at":"2025-12-26T14:27:30.78506-05:00","labels":["deployment","docker"]}
{"id":"ace-platform-52","title":"Create Fly.io configuration","description":"Create fly.toml configuration for Fly.io deployment","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-09T15:05:40.325231-05:00","updated_at":"2025-12-26T14:38:12.163015-05:00","closed_at":"2025-12-26T14:38:12.163015-05:00","labels":["deployment","fly"]}
{"id":"ace-platform-53","title":"Deploy PostgreSQL","description":"Deploy PostgreSQL using Fly Postgres or managed service","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-09T15:05:40.351889-05:00","updated_at":"2025-12-26T15:15:37.087399-05:00","closed_at":"2025-12-26T15:15:37.087399-05:00","labels":["database","deployment"]}
{"id":"ace-platform-54","title":"Deploy Redis","description":"Deploy Redis using Upstash or Fly","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-09T15:05:40.374926-05:00","updated_at":"2025-12-26T15:20:26.712714-05:00","closed_at":"2025-12-26T15:20:26.712714-05:00","labels":["deployment","infrastructure"]}
{"id":"ace-platform-55","title":"Deploy API server","description":"Deploy FastAPI server to Fly.io","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-09T15:05:40.398167-05:00","updated_at":"2025-12-26T17:45:34.657966-05:00","closed_at":"2025-12-26T17:45:34.657966-05:00","labels":["deployment"],"dependencies":[{"issue_id":"ace-platform-55","depends_on_id":"ace-platform-50","type":"blocks","created_at":"2025-12-09T15:07:30.222775-05:00","created_by":"daemon"},{"issue_id":"ace-platform-55","depends_on_id":"ace-platform-52","type":"blocks","created_at":"2025-12-09T15:07:30.248651-05:00","created_by":"daemon"},{"issue_id":"ace-platform-55","depends_on_id":"ace-platform-53","type":"blocks","created_at":"2025-12-09T15:07:30.271745-05:00","created_by":"daemon"}]}
{"id":"ace-platform-56","title":"Deploy MCP server","description":"Deploy MCP server.\n\nArchitecture decision: Consider hosting MCP as part of FastAPI app to reduce operational complexity. If combined: single deployment with MCP endpoints on separate router. If separate: deploy as additional process.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-09T15:05:40.431742-05:00","updated_at":"2025-12-26T17:57:42.70472-05:00","closed_at":"2025-12-26T17:57:42.70472-05:00","labels":["deployment","mcp"],"dependencies":[{"issue_id":"ace-platform-56","depends_on_id":"ace-platform-50","type":"blocks","created_at":"2025-12-09T15:07:30.297469-05:00","created_by":"daemon"}]}
{"id":"ace-platform-57","title":"Deploy Celery workers","description":"Deploy Celery workers to production","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-09T15:05:40.455319-05:00","updated_at":"2025-12-26T18:03:31.313135-05:00","closed_at":"2025-12-26T18:03:31.313135-05:00","labels":["deployment","workers"],"dependencies":[{"issue_id":"ace-platform-57","depends_on_id":"ace-platform-54","type":"blocks","created_at":"2025-12-09T15:07:30.323499-05:00","created_by":"daemon"}]}
{"id":"ace-platform-58","title":"Set up production environment variables","description":"Configure all environment variables in production environment","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-09T15:05:40.480718-05:00","updated_at":"2025-12-26T21:03:09.776307-05:00","closed_at":"2025-12-26T21:03:09.776307-05:00","labels":["config","deployment"]}
{"id":"ace-platform-59","title":"Write MCP integration guide","description":"Write comprehensive MCP integration guide for users","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-09T15:05:57.152031-05:00","updated_at":"2025-12-09T15:05:57.152031-05:00","labels":["documentation"]}
{"id":"ace-platform-6","title":"Create platform configuration with Pydantic Settings","description":"Create Pydantic Settings configuration:\n\nRequired:\n- DATABASE_URL, DATABASE_URL_ASYNC\n- REDIS_URL, OPENAI_API_KEY\n- JWT_SECRET_KEY, JWT_ACCESS_TOKEN_EXPIRE_MINUTES, JWT_REFRESH_TOKEN_EXPIRE_DAYS\n\nFeature flags:\n- BILLING_ENABLED (default: false)\n- STRIPE_SECRET_KEY (required if billing enabled)\n\nMCP: MCP_SERVER_HOST, MCP_SERVER_PORT\nEvolution: EVOLUTION_OUTCOME_THRESHOLD, EVOLUTION_TIME_THRESHOLD_HOURS\n\nAdd validation for required vs optional fields based on feature flags.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-09T14:51:19.980705-05:00","updated_at":"2025-12-21T17:19:30.855141-05:00","closed_at":"2025-12-21T17:19:30.855141-05:00","labels":["config","foundation"]}
{"id":"ace-platform-60","title":"Document API endpoints","description":"Document all API endpoints with examples","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-09T15:05:57.178186-05:00","updated_at":"2025-12-26T21:18:30.559957-05:00","closed_at":"2025-12-26T21:18:30.559957-05:00","labels":["documentation"]}
{"id":"ace-platform-61","title":"Create quick start guide","description":"Create quick start guide for new users","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-09T15:05:57.205139-05:00","updated_at":"2025-12-26T21:24:25.509852-05:00","closed_at":"2025-12-26T21:24:25.509852-05:00","labels":["documentation"]}
{"id":"ace-platform-62","title":"Add troubleshooting documentation","description":"Add troubleshooting section for common issues","status":"open","priority":3,"issue_type":"task","created_at":"2025-12-09T15:05:57.229857-05:00","updated_at":"2025-12-09T15:05:57.229857-05:00","labels":["documentation"]}
{"id":"ace-platform-63","title":"End-to-end testing - full flow","description":"Test full flow end-to-end:\n\n1. Register new user\n2. Create playbook\n3. Generate API key\n4. MCP: get_playbook\n5. MCP: report_outcome (multiple)\n6. Verify auto-evolution triggers at threshold\n7. Verify version history created\n8. View playbook versions in dashboard\n\nTest with both REST API and MCP tools.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-09T15:06:26.550009-05:00","updated_at":"2025-12-26T22:14:12.744601-05:00","closed_at":"2025-12-26T22:14:12.744601-05:00","labels":["e2e","testing"],"dependencies":[{"issue_id":"ace-platform-63","depends_on_id":"ace-platform-55","type":"blocks","created_at":"2025-12-09T15:07:30.350127-05:00","created_by":"daemon"},{"issue_id":"ace-platform-63","depends_on_id":"ace-platform-56","type":"blocks","created_at":"2025-12-09T15:07:30.372735-05:00","created_by":"daemon"}]}
{"id":"ace-platform-64","title":"End-to-end testing - billing flow","description":"Test complete billing flow including subscription and usage billing","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-09T15:06:26.574754-05:00","updated_at":"2025-12-26T22:21:18.880289-05:00","closed_at":"2025-12-26T22:21:18.880289-05:00","labels":["billing","e2e","testing"],"dependencies":[{"issue_id":"ace-platform-64","depends_on_id":"ace-platform-55","type":"blocks","created_at":"2025-12-09T15:07:30.397173-05:00","created_by":"daemon"}]}
{"id":"ace-platform-65","title":"Load test MCP server","description":"Load test MCP server for concurrent connections","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-09T15:06:26.604916-05:00","updated_at":"2025-12-09T15:06:26.604916-05:00","labels":["performance","testing"]}
{"id":"ace-platform-66","title":"Fix launch issues","description":"Fix any issues discovered during E2E and load testing","notes":"PRIORITY NOTE: This is a review/catch-all task that should be completed as the VERY LAST task before launch, after all other issues are resolved. It involves reviewing the entire system for any remaining issues discovered during E2E and load testing.","status":"open","priority":1,"issue_type":"task","created_at":"2025-12-09T15:06:26.62912-05:00","updated_at":"2025-12-27T11:30:09.984432-05:00","labels":["launch"]}
{"id":"ace-platform-67","title":"Add PlaybookVersion model for evolution history","description":"Add PlaybookVersion table to track version history:\n- id: UUID (primary key)\n- playbook_id: UUID (foreign key, indexed)\n- version_number: int\n- content: text\n- bullet_count: int\n- created_at: datetime\n- created_by_job_id: UUID (foreign key, nullable)\n- diff_summary: str (nullable)\n\nUpdate Playbook model to add current_version_id foreign key.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-20T17:24:09.923102-05:00","updated_at":"2025-12-21T17:19:30.117274-05:00","closed_at":"2025-12-21T17:19:30.117274-05:00","labels":["database","schema"]}
{"id":"ace-platform-68","title":"Add ApiKey model for MCP authentication","description":"Add ApiKey table for per-user MCP API keys:\n- id: UUID (primary key)\n- user_id: UUID (foreign key, indexed)\n- name: str\n- key_prefix: str (first 8 chars for identification)\n- hashed_key: str (bcrypt hashed, never store plaintext)\n- scopes: JSONB\n- created_at: datetime\n- last_used_at: datetime (nullable)\n- revoked_at: datetime (nullable)\n\nKeys must be hashed like passwords. Only show full key once at creation time.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-20T17:24:10.042826-05:00","updated_at":"2025-12-21T17:19:30.300505-05:00","closed_at":"2025-12-21T17:19:30.300505-05:00","labels":["auth","database","schema"]}
{"id":"ace-platform-69","title":"Add partial unique index for evolution concurrency","description":"Add partial unique index on EvolutionJob table to prevent concurrent evolutions:\n\nCREATE UNIQUE INDEX idx_evolution_job_active_per_playbook \nON evolution_jobs (playbook_id) \nWHERE status IN ('queued', 'running');\n\nThis ensures only one active evolution job per playbook at a time.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-20T17:24:10.16909-05:00","updated_at":"2025-12-21T17:19:30.482241-05:00","closed_at":"2025-12-21T17:19:30.482241-05:00","labels":["concurrency","database"]}
{"id":"ace-platform-7","title":"Create .env.example with all required variables","description":"Create .env.example file documenting all required environment variables for the platform","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-09T14:51:20.006664-05:00","updated_at":"2025-12-21T17:19:31.032524-05:00","closed_at":"2025-12-21T17:19:31.032524-05:00","labels":["config","foundation"]}
{"id":"ace-platform-70","title":"Implement get_evolution_status MCP tool","description":"Add new MCP tool to check evolution job status:\n\nParameters:\n  - job_id: str (required)\n\nReturns:\n  - job_id: str\n  - status: str (queued, running, completed, failed)\n  - outcomes_processed: int\n  - started_at: datetime\n  - completed_at: datetime (nullable)\n  - error_message: str (nullable)\n\nNeeded for client UX - allows polling for job completion.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-20T17:24:33.673594-05:00","updated_at":"2025-12-26T07:28:29.74676-05:00","closed_at":"2025-12-26T07:28:29.74676-05:00","labels":["mcp","tools"]}
{"id":"ace-platform-71","title":"Implement API key management endpoints","description":"Add CRUD endpoints for API key management:\n\nPOST   /auth/api-keys          - Create new API key (returns full key once)\nGET    /auth/api-keys          - List user's API keys (prefix only)\nDELETE /auth/api-keys/{id}     - Revoke API key\n\nKeys are hashed with bcrypt. Only the key_prefix is shown after creation.\nSupport scopes: read, write, evolve.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-20T17:24:33.830609-05:00","updated_at":"2025-12-27T07:58:36.686796-05:00","closed_at":"2025-12-27T07:58:36.686796-05:00","labels":["api","auth"]}
{"id":"ace-platform-72","title":"Implement auth refresh endpoint","description":"Add JWT token refresh endpoint:\n\nPOST /auth/refresh\n  - Accepts refresh token\n  - Returns new access token\n  - Access tokens expire in 30 minutes (configurable)\n  - Refresh tokens expire in 7 days (configurable)\n\nThis enables long-lived sessions without storing long-lived access tokens.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-20T17:24:33.993123-05:00","updated_at":"2025-12-27T11:32:44.114615-05:00","closed_at":"2025-12-27T11:32:44.114615-05:00","labels":["api","auth"]}
{"id":"ace-platform-73","title":"Implement playbook versions endpoints","description":"Add endpoints for playbook version history:\n\nGET /playbooks/{id}/versions      - List all versions (paginated)\nGET /playbooks/{id}/versions/{v}  - Get specific version content\n\nEnables viewing evolution history and comparing versions.\nEach evolution creates a new version with diff_summary.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-20T17:24:34.149747-05:00","updated_at":"2025-12-27T11:42:30.999083-05:00","closed_at":"2025-12-27T11:42:30.999083-05:00","labels":["api","playbooks"]}
{"id":"ace-platform-74","title":"Implement outcome creation REST endpoint","description":"Add REST fallback for outcome reporting:\n\nPOST /playbooks/{id}/outcomes\n  - task_description: str (required)\n  - outcome: success|failure|partial (required)\n  - reasoning_trace: str (optional, max 10KB)\n  - notes: str (optional, max 2KB)\n\nReturns: { outcome_id, status: recorded, pending_outcomes }\n\nProvides REST alternative to MCP report_outcome tool.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-20T17:24:34.314509-05:00","updated_at":"2025-12-27T11:51:39.789349-05:00","closed_at":"2025-12-27T11:51:39.789349-05:00","labels":["api","playbooks"]}
{"id":"ace-platform-75","title":"Set up structured JSON logging","description":"Implement structured logging infrastructure:\n\n- JSON log format for production\n- Request correlation IDs via middleware\n- Log levels configurable per environment\n- Ensure playbook content NOT logged by default\n- Optional content truncation in logs\n\nCreate ace_platform/core/logging.py","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-20T17:24:59.317858-05:00","updated_at":"2025-12-27T12:46:06.712405-05:00","closed_at":"2025-12-27T12:46:06.712405-05:00","labels":["logging","observability"]}
{"id":"ace-platform-76","title":"Implement rate limiting","description":"Add rate limiting to protect abuse vectors:\n\n- Login attempts: 5/minute per IP\n- Outcome reporting: 100/hour per user\n- Evolution triggering: 10/hour per playbook\n\nImplement in ace_platform/core/security.py\nAdd middleware to ace_platform/api/middleware.py","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-20T17:24:59.497614-05:00","updated_at":"2025-12-27T13:20:31.589487-05:00","closed_at":"2025-12-27T13:20:31.589487-05:00","labels":["api","security"]}
{"id":"ace-platform-77","title":"Add input size validation","description":"Implement input size limits across API and MCP:\n\n- Playbook content: 100KB max\n- Reasoning trace: 10KB max\n- Notes: 2KB max\n\nAdd validation to both API endpoints and MCP tools.\nReturn clear error messages when limits exceeded.","status":"open","priority":1,"issue_type":"task","created_at":"2025-12-20T17:24:59.666159-05:00","updated_at":"2025-12-20T17:24:59.666159-05:00","labels":["security","validation"]}
{"id":"ace-platform-78","title":"Set up GitHub Actions CI pipeline","description":"Create CI workflow in .github/workflows/ci.yml:\n\n- Ruff linting\n- Ruff formatting check\n- pytest with coverage\n- Type checking (optional: mypy)\n- Test database setup for CI\n\nAlso add pre-commit hooks configuration.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-20T17:24:59.84318-05:00","updated_at":"2025-12-22T14:42:00.713833-05:00","closed_at":"2025-12-22T14:42:00.713833-05:00","labels":["ci","testing"]}
{"id":"ace-platform-79","title":"Configure error tracking (Sentry)","description":"Set up Sentry or similar error tracking:\n\n- Capture unhandled exceptions\n- Add context (user_id, playbook_id, job_id)\n- Configure environments (dev, staging, prod)\n- Set up alerting\n\nOptional for MVP but recommended for production.","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-20T17:25:00.0267-05:00","updated_at":"2025-12-20T17:25:00.0267-05:00","labels":["monitoring","observability"]}
{"id":"ace-platform-8","title":"Set up development Docker services","description":"Create docker-compose.yml for development PostgreSQL and Redis instances","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-09T14:51:20.031096-05:00","updated_at":"2025-12-24T07:33:54.198466-05:00","closed_at":"2025-12-24T07:33:54.198466-05:00","labels":["foundation","infrastructure"]}
{"id":"ace-platform-80","title":"Implement basic metrics collection","description":"Add basic metrics for operations visibility:\n\n- Outcomes recorded (counter)\n- Evolutions triggered/succeeded/failed (counters)\n- Evolution duration (histogram)\n- Token usage by model (counter)\n\nCreate ace_platform/core/metrics.py\nConsider Prometheus format for future scraping.","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-20T17:25:00.202375-05:00","updated_at":"2025-12-20T17:25:00.202375-05:00","labels":["metrics","observability"]}
{"id":"ace-platform-81","title":"Implement API key management page in dashboard","description":"Add dashboard page for managing MCP API keys:\n\n- List existing keys (show name, prefix, scopes, last_used, created_at)\n- Create new key (show full key ONCE, warn user to copy)\n- Revoke existing keys\n- Edit key name/scopes\n\nUses Jinja2 templates consistent with other dashboard pages.","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-21T14:31:32.660044-05:00","updated_at":"2025-12-21T14:31:32.660044-05:00","labels":["auth","frontend"]}
{"id":"ace-platform-82","title":"Implement playbook version history view in dashboard","description":"Add version history view to playbook detail page:\n\n- List all versions with timestamps and diff summaries\n- View specific version content\n- Compare versions (diff view)\n- Show which evolution job created each version\n\nUses Jinja2 templates.","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-21T14:31:32.782302-05:00","updated_at":"2025-12-21T14:31:32.782302-05:00","labels":["frontend","playbooks"]}
{"id":"ace-platform-83","title":"Add request correlation ID middleware","description":"Add middleware to generate and propagate correlation IDs:\n\n1. Generate UUID for each request if not present in headers\n2. Add to response headers\n3. Include in all log messages\n4. Pass through to background tasks\n\nEssential for debugging and tracing requests across services.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-21T14:31:47.664912-05:00","updated_at":"2025-12-22T22:07:27.519721-05:00","closed_at":"2025-12-22T22:07:27.519721-05:00","labels":["api","observability"]}
{"id":"ace-platform-84","title":"Add login attempt lockout","description":"Implement exponential backoff for failed login attempts:\n\n- Track failed attempts per IP/email\n- After N failures, increase wait time exponentially\n- Consider using Redis for distributed rate limiting\n- Reset counter on successful login\n\nPart of security hardening.","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-21T14:31:47.780038-05:00","updated_at":"2025-12-21T14:31:47.780038-05:00","labels":["auth","security"]}
{"id":"ace-platform-85","title":"Document environment variables","description":"Create comprehensive documentation of all environment variables:\n\n- Required vs optional\n- Default values\n- Feature flag dependencies\n- Examples for different deployment scenarios (local, self-hosted, SaaS)\n\nAdd to docs/ directory.","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-21T14:31:47.92776-05:00","updated_at":"2025-12-21T14:31:47.92776-05:00","labels":["documentation"]}
{"id":"ace-platform-86","title":"Document self-hosted deployment","description":"Create self-hosted deployment guide:\n\n- Docker Compose setup\n- Environment configuration\n- Database setup\n- Optional billing configuration\n- Health checks and monitoring\n\nTarget audience: developers wanting to run their own instance.","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-21T14:31:48.079216-05:00","updated_at":"2025-12-21T14:31:48.079216-05:00","labels":["deployment","documentation"]}
{"id":"ace-platform-87","title":"Test evolution idempotency","description":"Add E2E test for evolution idempotency:\n\n1. Trigger evolution for a playbook\n2. While job is queued/running, trigger again\n3. Verify same job_id returned (is_new=false)\n4. Verify no duplicate jobs created\n\nCritical for preventing race conditions.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-21T14:32:02.868697-05:00","updated_at":"2025-12-23T06:58:51.92356-05:00","closed_at":"2025-12-23T06:58:51.92356-05:00","labels":["evolution","testing"]}
{"id":"ace-platform-88","title":"Test API key authentication","description":"Add tests for API key authentication flow:\n\n1. Create API key, verify full key returned once\n2. List keys, verify only prefix shown\n3. Use key for MCP auth, verify access granted\n4. Revoke key, verify access denied\n5. Test scope enforcement\n\nCritical for MCP security.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-21T14:32:02.987462-05:00","updated_at":"2025-12-23T07:47:58.753879-05:00","closed_at":"2025-12-23T07:47:58.753879-05:00","labels":["auth","testing"]}
{"id":"ace-platform-9","title":"Create Evolution Service wrapper","description":"Create EvolutionService class in platform/core/evolution.py that wraps ace_core. Implement evolve_playbook(playbook_content, outcomes) -\u003e new_playbook_content","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-09T14:51:22.804045-05:00","updated_at":"2025-12-22T21:45:43.879498-05:00","closed_at":"2025-12-22T21:45:43.879498-05:00","labels":["core","evolution"],"dependencies":[{"issue_id":"ace-platform-9","depends_on_id":"ace-platform-2","type":"blocks","created_at":"2025-12-09T15:06:53.467975-05:00","created_by":"daemon"}]}
